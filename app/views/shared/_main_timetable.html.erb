<div class="event-task-container d-flex flex-column align-self-stretch position-relative" data-controller="tasks">
  <%= render 'shared/new_member_form_modal', event_task: task %>
  <div class="event-task-header d-flex justify-content-between align-items-center">
    <div class="card-body fs-4 d-flex align-items-center flex-grow-2">
      <%# <%= render 'components/update_task_form', event: event, task: task %>
      <%# <input type="checkbox" class="task-checkbox me-2" checked disabled> %>
      <h3 class="timetable-header info-title" data-action="click->tasks#toggleDisplay stretched-link"><%= task.name %></h3>
    </div>
    <%# Deleted Small task members avatars %>
    <%# <div class="task-info d-flex flex-column justify-content-end align-items-end"> %>
    <%# Deleted 'Done' and 'Pending' badge %>
    <%# Deleted 'Category' badge  %>
    <%# </div> %>
  </div>
  <%# Task card expanded view %>
  <div class="d-flex flex-column card-content" data-tasks-target='task'>
    <hr>
    <%# Deleted 'Category' badge  %>
    <%# Deleted 'Description'  %>
    <%# Subtasks %>
    <%= render 'components/timetable_set', task: task %>
    <%= render 'components/timetable_set_form', event: event, parent_task: task %>
    <%# Subtasks end %>
    <p class='m-0 task-date'><i class="fa-solid fa-calendar-days me-1"></i>From: <%= task.start.strftime("%d.%m.%Y") %></p>
    <% if  task.end %>
      <p class='m-0 task-date'><i class="fa-solid fa-calendar-days me-1"></i>End: <%= task.end.strftime("%d.%m.%Y") %></p>
    <% end %>
    <hr>
    <div class="task-members d-flex gap-1 justify-content-end align-items-center">
      <%= link_to new_task_task_member_path(task),
                data: {bs_toggle: "modal", bs_target: "#addMembersModal#{task.id}"},
                class: 'me-2' do %>
        <i class="fa-solid fa-square-plus fs-4 text-light" data-bs-toggle="tooltip" data-bs-placement="left" title="Assign Member"></i>
      <% end %>
      <% if task.event_members.any? %>
        <% task.event_members.each do |event_member| %>
          <%= render "components/task_member", member: event_member %>
        <% end %>
      <% end %>
    </div>
  </div>
  <%# Task card expanded view end %>
</div>
